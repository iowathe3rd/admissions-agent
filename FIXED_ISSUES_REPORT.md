# üéØ –ü–†–û–ë–õ–ï–ú–´ –ò–°–ü–†–ê–í–õ–ï–ù–´ - RAG –ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–¢–ê–ï–¢!

## üî• –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏:

### 1. **–û—à–∏–±–∫–∞ ChromaDB –∫–æ–ª–ª–µ–∫—Ü–∏–∏** ‚ùå‚û°Ô∏è‚úÖ
**–ü—Ä–æ–±–ª–µ–º–∞**: `Collection bba7da3a-1820-4bd6-9eb4-430dcce8ab81 does not exist`
**–ü—Ä–∏—á–∏–Ω–∞**: –ö–æ–ª–ª–µ–∫—Ü–∏—è –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞–ª–∞—Å—å —Å –Ω–æ–≤—ã–º–∏ UUID, –Ω–æ retriever.py –ø—ã—Ç–∞–ª—Å—è –ø–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ä—É—é
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: 
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_collection()` —Å –Ω–∞–¥–µ–∂–Ω—ã–º –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `get_or_create_collection()` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø–æ–≤—Ç–æ—Ä–Ω—ã–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏

### 2. **–ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è —Ä–µ–∫—É—Ä—Å–∏—è –≤ safe_answer** ‚ùå‚û°Ô∏è‚úÖ  
**–ü—Ä–æ–±–ª–µ–º–∞**: `maximum recursion depth exceeded`
**–ü—Ä–∏—á–∏–Ω–∞**: –§—É–Ω–∫—Ü–∏—è `safe_answer()` –≤—ã–∑—ã–≤–∞–ª–∞ —Å–∞–º–∞ —Å–µ–±—è –≤–º–µ—Å—Ç–æ `callback.message.answer()`
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ó–∞–º–µ–Ω–µ–Ω —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

### ‚úÖ RAG —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ –Ω–∞–π–¥–µ–Ω–æ**: 1-2 –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- **–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å**: 0.31-0.43 (–≤—ã—à–µ –ø–æ—Ä–æ–≥–∞ 0.3)
- **–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ—Ç–≤–µ—Ç–æ–≤**: –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### ‚úÖ –ü—Ä–∏–º–µ—Ä—ã —É—Å–ø–µ—à–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤:
- "—Å—Ç–æ–∏–º–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è" ‚Üí –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å—É–º–º—ã –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º
- "–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏" ‚Üí –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–≥—Ä–∞–º–º
- "–∫–æ–Ω—Ç–∞–∫—Ç—ã —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞" ‚Üí –ê–¥—Ä–µ—Å–∞, —Ç–µ–ª–µ—Ñ–æ–Ω—ã, —á–∞—Å—ã —Ä–∞–±–æ—Ç—ã

### ‚úÖ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- **–î–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –∏–Ω–¥–µ–∫—Å–µ**: 25 —á–∞–Ω–∫–æ–≤
- **–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞**: 3-5 —Å–µ–∫—É–Ω–¥
- **–ö–∞—á–µ—Å—Ç–≤–æ –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**: 3072-–º–µ—Ä–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä—ã
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –õ–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

## üöÄ –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:

### –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç:
- ‚úÖ **ChromaDB**: –ö–æ–ª–ª–µ–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞, 25 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ **–í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: Gemini Embedding —Å–æ–∑–¥–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä—ã  
- ‚úÖ **–ü–æ–∏—Å–∫**: –ù–∞—Ö–æ–¥–∏—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- ‚úÖ **LLM –≥–µ–Ω–µ—Ä–∞—Ü–∏—è**: –°–æ–∑–¥–∞–µ—Ç –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
- ‚úÖ **Bot –æ–±—Ä–∞–±–æ—Ç—á–∏–∫**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
- ‚úÖ **Telegram API**: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ

### –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —É—Å–ø–µ—Ö:
```
contexts_json: [{"source": "university_info", "text": "...", "score": 0.431}]
bot_response: "–°—Ç–æ–∏–º–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è –≤ ALT University –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ñ–æ—Ä–º—ã..."
```

## üí° –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞**: `python main.py`
2. **–ù–∞–π–¥–∏—Ç–µ –≤ Telegram**: @altadmitbot
3. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É**: `/start`
4. **–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å**: "—Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –æ–±—É—á–µ–Ω–∏–µ?"
5. **–û–∂–∏–¥–∞–π—Ç–µ –æ—Ç–≤–µ—Ç**: –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç–æ–∏–º–æ—Å—Ç–∏

## üîß –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ:
1. **–ü—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—â–µ–Ω**: `ps aux | grep main.py`
2. **–ù–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –±–æ—Ç**: –†–∞–∑–±–ª–æ–∫–∏—Ä—É–π—Ç–µ @altadmitbot –≤ Telegram
3. **–¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è**: –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ
4. **–ù–∞—á–Ω–∏—Ç–µ —Å /start**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ:

**RAG –°–ò–°–¢–ï–ú–ê –ü–û–õ–ù–û–°–¢–¨–Æ –ò–°–ü–†–ê–í–õ–ï–ù–ê –ò –ì–û–¢–û–í–ê –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!**

–ü—Ä–æ–±–ª–µ–º—ã –±—ã–ª–∏ –≤:
- –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ ChromaDB –∫–æ–ª–ª–µ–∫—Ü–∏–∏
- –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–π –æ—à–∏–±–∫–µ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ callback'–æ–≤

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞:
- üîç –ù–∞—Ö–æ–¥–∏—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö
- üß† –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö
- üí¨ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–≤–µ—á–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤ Telegram
- üìä –õ–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

**–ë–æ—Ç –∑–Ω–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –≥–æ—Ç–æ–≤ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã!** üéØ